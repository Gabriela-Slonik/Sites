<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hash Dinâmico</title>
<link rel="stylesheet" href="../css/style.css">
</head>
<body>
<header><h1>Hash Dinâmico - ReHash</h1></header>

<main class="conteudo">
<p>Insira valores e veja a tabela crescer automaticamente (ReHash).</p>

<input id="val" type="number" placeholder="Número">
<button onclick="add()">Inserir</button>
<pre id="out"></pre>

<script>
let tamanho = 5;
let tabela = new Array(tamanho).fill(null);
let count = 0;

function add() {
  let num = parseInt(document.getElementById('val').value);
  if (isNaN(num)) return;
  if (count / tamanho > 0.7) rehash();
  let i = num % tamanho;
  while (tabela[i] !== null) i = (i + 1) % tamanho;
  tabela[i] = num;
  count++;
  mostrar();
}

function rehash() {
  tamanho *= 2;
  let antiga = tabela.filter(v=>v!==null);
  tabela = new Array(tamanho).fill(null);
  count = 0;
  antiga.forEach(add);
}

function mostrar() {
  document.getElementById('out').innerText = 
    `Tamanho: ${tamanho}\n` +
    tabela.map((v,i)=>`${i}: ${v ?? '-'}`).join('\n');
}
</script>
</main>

<footer><a href="../index.html/index.html" class="voltar">← Voltar</a></footer>
</body>
</html>

